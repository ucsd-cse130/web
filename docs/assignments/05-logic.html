<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
    
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
 <!--
      loads the http over https ssl -
      welcome to my website!

	this theme is based off the Ice & Fire theme created by Lucas Gatsas
      https://www.twitter.com/LucasGatsas
      www.lucasgatsas.ch - switzerland.
  -->


<!-- Microsoft Internet Explorer documentMode compatMode setting IE Modus -->
<script type="text/javascript">
var IE = null;
if (window.navigator.appName == "Microsoft Internet Explorer") {
  if (document.documentMode) {

    IE = document.documentMode;
    } else {

        IE = 5;
          if (document.compatMode) {
      if (document.compatMode == "CSS1Compat")
      IE = 11;
      }
    }
  }
</script>

    <meta charset="utf-8">
    <!-- X-UA -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="X-UA-Compatible" content="IE=11" />
    <link rel="author" title="Ranjit Jhala" href="http://ranjitjhala.github.io" />

    <meta name="google" content="notranslate" />
    <!-- Viewport -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- index ROBOTS follow -->
    <meta name="robots" content="index, follow" />
    <!-- Site Desciption -->
    <meta name="description" content="UCSD CSE 130">
    <!-- Site Desciption -->
    <meta name="keywords" content="haskell, refinement types, liquid types, formal methods, type systems">
    <!-- Favicon -->
    <link rel="shortcut icon" href="https://ucsd-cse130.github.io/web/static/img/ico.png" type="image/x-icon" />
    <!-- Blog Title -->
    <title>cse130</title>

    <!--     <title>{% if page.title %}{{ page.title }} - {{ site.title }}{% else %}{{ site.title }}{% endif %}</title>
-->
    <!-- Property Metas -->
    <meta property="og:image" content="https://ucsd-cse130.github.io/web/static/img/ix.png" />
    <meta property="og:title" content="UCSD CSE 130" />
    <meta property="og:site_name" content="UCSD CSE 130" />
    <!-- Canonical -->
    <link rel="canonical" href="{{ page.url | replace:'index.html','' | prepend: site.baseUrl | prepend: site.url }}">
    <!-- StyleSheet -->
    <link rel="stylesheet" href="https://ucsd-cse130.github.io/web/static/css/bootstrap.min.css">
    <!-- <link rel="stylesheet" href="https://ucsd-cse130.github.io/web/static/css/spaceg.stylesheets.css"> -->
    <link rel="stylesheet" href="https://ucsd-cse130.github.io/web/static/css/ronacher.css" type="text/css">

    <link rel="stylesheet" href="https://ucsd-cse130.github.io/web/static/css/syntax.css">
    <link rel="stylesheet" href="https://ucsd-cse130.github.io/web/static/css/liquid-light.css">

    <!-- Fonts
    <link href='https://fonts.googleapis.com/css?family=Merriweather:400,300,300italic,400italic,700,700italic,900,900italic' rel='stylesheet' type='text/css'>
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href='https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Playfair+Display:400,700,900,400italic,700italic,900italic' rel='stylesheet' type='text/css'>
    -->

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    <style>
	#preloader {position:fixed;top:0;left:0;right:0;bottom:0;background-color:#fff; /* change if the mask should have another color then white */z-index:99; /* makes sure it stays on top */}
	#status {width:200px;height:200px;position:absolute;left:50%; /* centers the loading animation horizontally one the screen */top:50%; /* centers the loading animation vertically one the screen */background-image:url("/static/img/preloader.gif"); /* path to your loading animation */background-repeat:no-repeat;background-position:center;margin:-100px 0 0 -100px; /* is width and height divided by two */}
	ul, ol {margin-top: 0;margin-bottom: 10px;}
	.navbar-inverse {background-color: #FFF;border-color: #FFFFFF;}
</style>
<!--link rel="stylesheet" href="https://ucsd-cse130.github.io/web/static/css/prettify.css"-->
<style>
  /* HEADER IMAGE */
  header.intro-header {background: #6f5499;background: no-repeat center center;background-attachment: scroll;-webkit-background-size: cover;-moz-background-size: cover;background-size: cover;-o-background-size: cover;}

	/* Preloader */#preloader {position:fixed;top:0;left:0;right:0;bottom:0;background-color:#fff; /* change if the mask should have another color then white */z-index:99; /* makes sure it stays on top */}
	#status {width:200px;height:200px;position:absolute;left:50%; /* centers the loading animation horizontally one the screen */top:50%; /* centers the loading animation vertically one the screen */background-image:; /* path to your loading animation */background-repeat:no-repeat;background-position:center;margin:-100px 0 0 -100px; /* is width and height divided by two */}
	li {list-style: none;}
            body.modal-open
            {overflow: hidden;padding-right: 0px;
        }
	article li {list-style: inherit;}
	article .figure {text-align: center}
    </style>
    <!-- end Loading front stylesheet here -->
    </head>

    <body>
	    
	<!-- 	
        <div id="preloader">
	    <div id="status">
	    </div>
	</div>  
	-->
	<!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ucsd-cse130.github.io/web" id="blog-title-left-top">cse130</a>
        </div>
        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <li><a href="https://ucsd-cse130.github.io/web/calendar.html">Calendar</a></li>
                <li><a href="https://ucsd-cse130.github.io/web/contact.html">Contact</a></li>
                <li><a href="https://ucsd-cse130.github.io/web/grades.html">Grades</a></li>
                <li><a href="https://ucsd-cse130.github.io/web/lectures.html">Lectures</a></li>
                <li><a href="https://ucsd-cse130.github.io/web/assignments.html">Assignments</a></li>
                <li><a href="https://ucsd-cse130.github.io/web/links.html">Links</a></li>
                <li><a href="https://www.piazza.com/ucsd/spring2017/cse130/home" id="roundbutton" target="_blank"><i class="fa fa-twitter"></i>Piazza</a></li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>
<!-- Portfolio Modals -->
    <div class="portfolio-modal modal fade" id="portfolioModal1" tabindex="-1" role="dialog" aria-hidden="true" style="padding-right:0px; overflow: hidden;">
        <div class="modal-content">
            <div class="close-modal" data-dismiss="modal">
                <div class="lr">
                    <div class="rl">
                    </div>
                </div>
            </div>
            <div class="container">
                <div class="row">
                    <div class="col-lg-8 col-lg-offset-2">
                        <div class="modal-body">
                            <h1 class="font-style-inline-small-h1">Ranjit Jhala</h1>
                            <hr class="star-primary">
                            <img src="https://ucsd-cse130.github.io/web/static/img/ico.png" class="img-responsive img-centered" alt title>
                            <p class="font-style-inline-small">
                                <a href="https://www.twitter.com/ranjitjhala" target="_blank">follow me</a>. <br>
                                <a href="https://www.github.com/ucsd-progsys/130-web" target="_blank">    <i class="fa fa-github" id="spaceg-social-modal"></i> </a>
                                <a href="https://www.twitter.com/ranjitjhala" target="_blank"><i class="fa fa-twitter" id="spaceg-social-modal"></i> </a>
                                <a href="https://plus.google.com/u/0/106612421534244742464" target="_blank"> <i class="fa fa-google-plus" id="spaceg-social-modal"></i></a>
                            </p>
                            <button type="button" class="btn btn-default" data-dismiss="modal"><i class="fa fa-times"></i> Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
<!-- Menu Modals Add New Sa.21.Feb.2015 03:22:25 -->
    <div class="portfolio-modal modal fade" id="portfolioModal2" tabindex="-1" role="dialog" aria-hidden="true" style="padding-right:0px; overflow: hidden;">
        <div class="modal-content">
            <div class="close-modal" data-dismiss="modal">
                <div class="lr">
                    <div class="rl">
                    </div>
                </div>
            </div>
            <div class="container">
                <div class="row">
                    <div class="col-lg-8 col-lg-offset-2">
                        <div class="modal-body">
                            <h1 class="font-style-inline-small-h1">Ranjit Jhala</h1>
                            <hr class="star-primary">
                            <p class="font-style-inline-small">
                              <a href="https://www.twitter.com/ranjitjhala" target="_blank">follow</a>. <br>
                              <a href="https://www.github.com/ucsd-progsys/130-web" target="_blank">    <i class="fa fa-github" id="spaceg-social-modal"></i> </a>
                              <li><a href="https://ucsd-cse130.github.io/web/calendar.html">Calendar</a></li>
                              <li><a href="https://ucsd-cse130.github.io/web/contact.html">Contact</a></li>
                              <li><a href="https://ucsd-cse130.github.io/web/grades.html">Grades</a></li>
                              <li><a href="https://ucsd-cse130.github.io/web/lectures.html">Lectures</a></li>
                              <li><a href="https://ucsd-cse130.github.io/web/assignments.html">Assignments</a></li>
                              <li><a href="https://ucsd-cse130.github.io/web/links.html">Links</a></li>
                              <li><a href="https://www.piazza.com/ucsd/spring2017/cse130/home" id="roundbutton" target="_blank"><i class="fa fa-twitter"></i>Piazza</a></li>
                            </p>
                            <button type="button" class="btn btn-default" data-dismiss="modal"><i class="fa fa-times"></i>Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


        <div id="content">
            <!-- Post Header -->
    <header class="intro-header" style="background-image: url('https://ucsd-cse130.github.io/web/static/img/angles.jpg')" alt title>

    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <h1>HW 5, due 6/11/2017 (150 points)</h1>
                    
                    <span class="meta">
		    
		    </span>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Post Content -->


<article>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
			<h2 id="installing-prolog">Installing Prolog</h2>
<p>To run SWI-Prolog in the lab see <a href="../lectures/info_prolog.html">this page</a></p>
<p>To download and install SWI-Prolog on your home machines see <a href="http://www.swi-prolog.org">this page</a>. Remember that this is only to enable you to play with the assignment at home: The final version turned in must work on the ACS Linux machines. While you can use Windows to begin working with Prolog, the code you turn in must be that required for the ACS Linux environment.</p>
<h2 id="overview">Overview</h2>
<p>The overall objective of this assignment is for you to gain some hands-on experience with problem solving using Prolog, using simple facts and rules, recursion, and database handling capabilities of the language. So as not to make the code overly long, it is not required that you deal with user errors: you can assume that the user always types valid commands (e.g., if a predicate is supposed to take an atom as argument, you do not have to check whether the argument is instead a list and throw an error). Note that the Prolog interpreter catches a good number of user errors anyway.</p>
<p><strong>Download</strong> the assignment as this single file</p>
<ul>
<li><a href="../static/raw/hw5.zip">hw5.zip</a></li>
</ul>
<p>When you unzip it, you should see two files</p>
<ul>
<li><p><a href="../static/raw/hw5/misc.pl">misc.pl</a> which contains several skeleton Prolog rules with missing bodies that you have to fill in (that is, replace <code>throw(to_be_done)</code> with the definitions for the predicate.</p></li>
<li><p><a href="../static/raw/hw5/test.pl">test.pl</a> which contains a very small suite of tests which gives you a flavor of of these tests.</p></li>
</ul>
<h2 id="assignment-testing-and-evaluation">Assignment Testing and Evaluation</h2>
<p>Your functions/programs <strong>must</strong> compile and/or run on a <strong>ACS Linux</strong> machine (e.g. <code>ieng6.ucsd.edu</code>) as this is where your solutions will be checked. While you may develop your code on any system, ensure that your code runs as expected on an ACS machine prior to submission. You should test your code in the directories from which the zip files (see below) will be created, as this will approximate the environment used for grading the assignment.</p>
<h2 id="submission-instructions">Submission Instructions</h2>
<p>You will turn in your solution, by filling in the template file <a href="../static/pa7/misc.pl">misc.pl</a>. This file is submitted using <code>turnin</code> as follows:</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"> <span class="kw">turnin</span> -c cs130s -p 05 misc.pl</code></pre></div>
<p><code>turnin</code> will provide you with a confirmation of the submission process; make sure that the size of the file indicated by <code>turnin</code> matches the size of your zip file. See the ACS Web page on <a href="http://acs.ucsd.edu/info/turnin.php">turnin</a> for more information on the operation of the program.</p>
<h2 id="hints">Hints</h2>
<p>Read the Prolog documentation shown <a href="../links.html">here</a>, and you should use the functions <code>isin</code>, <code>append</code>, <code>reverse</code> and <code>bagof</code> judiciously.</p>
<h2 id="problem-1-lists">Problem 1: Lists</h2>
<h3 id="a-5-points">(a) 5 points</h3>
<p>Write a Prolog predicate <code>zip(L1,L2,L3)</code> that is true if the <em>list</em> <code>L3</code> is obtained by zipping (i.e. <code>shuffling&quot;, or</code>interleaving“) the elements of the lists <code>L1</code> and <code>L2</code>, which can have different lengths. For instance, when you are done, you should get the following behavior:</p>
<div class="sourceCode"><pre class="sourceCode prolog"><code class="sourceCode prolog"><span class="fu">?-</span> zip([<span class="dv">1</span>,<span class="dv">2</span>]<span class="kw">,</span>[a,b]<span class="kw">,</span>[<span class="dv">1</span>,a,<span class="dv">2</span>,b])<span class="kw">.</span>
<span class="kw">true.</span>

<span class="fu">?-</span> zip([<span class="dv">1</span>,<span class="dv">2</span>]<span class="kw">,</span>[a,b]<span class="kw">,</span><span class="dt">X</span>)<span class="kw">.</span>
<span class="dt">X</span> <span class="kw">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, a, b] <span class="kw">;</span>
<span class="dt">X</span> <span class="kw">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, a, b] <span class="kw">;</span>
<span class="dt">X</span> <span class="kw">=</span> [<span class="dv">1</span>, a, <span class="dv">2</span>, b] <span class="kw">;</span>
<span class="dt">X</span> <span class="kw">=</span> [<span class="dv">1</span>, a, b, <span class="dv">2</span>] <span class="kw">;</span>
<span class="dt">X</span> <span class="kw">=</span> [a, <span class="dv">1</span>, <span class="dv">2</span>, b] <span class="kw">;</span>
<span class="dt">X</span> <span class="kw">=</span> [a, <span class="dv">1</span>, b, <span class="dv">2</span>] <span class="kw">;</span>
<span class="dt">X</span> <span class="kw">=</span> [a, b, <span class="dv">1</span>, <span class="dv">2</span>] <span class="kw">;</span>
<span class="dt">X</span> <span class="kw">=</span> [a, b, <span class="dv">1</span>, <span class="dv">2</span>] <span class="kw">;</span>
<span class="kw">false.</span>

<span class="fu">?-</span> zip([<span class="dv">1</span>,<span class="dv">2</span>]<span class="kw">,</span>[a,b]<span class="kw">,</span>[<span class="dv">1</span>,<span class="dv">2</span>,a,b])<span class="kw">.</span>
<span class="kw">true.</span>

<span class="fu">?-</span> zip(<span class="dt">X</span><span class="kw">,</span>[a,b]<span class="kw">,</span>[<span class="dv">1</span>,a,<span class="dv">2</span>,b])<span class="kw">.</span>
<span class="dt">X</span> <span class="kw">=</span> [<span class="dv">1</span>,<span class="dv">2</span>]
<span class="kw">true.</span>

<span class="fu">?-</span> zip([<span class="dv">1</span>,<span class="dv">2</span>]<span class="kw">,</span><span class="dt">X</span><span class="kw">,</span>[<span class="dv">1</span>,a,<span class="dv">2</span>,b])<span class="kw">.</span>
<span class="dt">X</span> <span class="kw">=</span> [a,b]
<span class="kw">true.</span></code></pre></div>
<h3 id="b-10-points">(b) 10 points</h3>
<p>Next, implement <em>associative lists</em> (i.e. lookup tables) in Prolog. Write a Prolog predicate <code>assoc(L,X,Y)</code>, such that <code>assoc([[k1,v1],[k2,v2],...,[kn,vn]],X,Y)</code> is true if <code>X</code> equals some <code>ki</code> and <code>Y</code> equals the corresponding <code>vi</code>. When you are done, you should get the following behavior:</p>
<div class="sourceCode"><pre class="sourceCode prolog"><code class="sourceCode prolog"><span class="fu">?-</span> assoc([[a,<span class="dv">1</span>],[b,<span class="dv">2</span>],[c,<span class="dv">3</span>],[d,<span class="dv">4</span>],[b,<span class="dv">5</span>]]<span class="kw">,</span>c<span class="kw">,</span><span class="dv">3</span>)<span class="kw">.</span>
<span class="kw">true.</span>

<span class="fu">?-</span> assoc([[a,<span class="dv">1</span>],[b,<span class="dv">2</span>],[c,<span class="dv">3</span>],[d,<span class="dv">4</span>],[b,<span class="dv">5</span>]]<span class="kw">,</span>f<span class="kw">,</span><span class="dt">Y</span>)<span class="kw">.</span>
<span class="kw">false.</span>

<span class="fu">?-</span> assoc([[a,<span class="dv">1</span>],[b,<span class="dv">2</span>],[c,<span class="dv">3</span>],[d,<span class="dv">4</span>],[b,<span class="dv">5</span>]]<span class="kw">,</span><span class="dt">X</span><span class="kw">,</span><span class="dv">99</span>)<span class="kw">.</span>
<span class="kw">false.</span>

<span class="fu">?-</span> assoc([[a,<span class="dv">1</span>],[b,<span class="dv">2</span>],[c,<span class="dv">3</span>],[d,<span class="dv">4</span>],[b,<span class="dv">5</span>]]<span class="kw">,</span>b<span class="kw">,</span><span class="dt">Y</span>)<span class="kw">.</span>
<span class="dt">Y</span> <span class="kw">=</span> <span class="dv">2</span> <span class="kw">;</span>
<span class="dt">Y</span> <span class="kw">=</span> <span class="dv">5</span>
<span class="kw">false.</span>

<span class="fu">?-</span> assoc([[a,<span class="dv">1</span>],[b,<span class="dv">2</span>],[c,<span class="dv">3</span>],[d,<span class="dv">1</span>],[b,<span class="dv">5</span>]]<span class="kw">,</span><span class="dt">X</span><span class="kw">,</span><span class="dv">1</span>)<span class="kw">.</span>
<span class="dt">X</span> <span class="kw">=</span> a <span class="kw">;</span>
<span class="dt">X</span> <span class="kw">=</span> d
<span class="kw">false.</span></code></pre></div>
<h3 id="c-20-points">(c) 20 points</h3>
<p>Write a Prolog predicate <code>remove_duplicates(L1,L2)</code> that is true if <code>L2</code> is equal to the result of removing all duplicate elements from <code>L1</code>. In the result, the order of the elements must be the same as the order in which the (first occurences of the) elements appear in <code>L1</code>. When you are done, you should get the following behavior:</p>
<div class="sourceCode"><pre class="sourceCode prolog"><code class="sourceCode prolog"><span class="fu">?-</span> remove_duplicates([<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">2</span>,<span class="dv">3</span>]<span class="kw">,</span>[<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>])<span class="kw">.</span>
<span class="kw">true.</span>

<span class="fu">?-</span> remove_duplicates([<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">2</span>,<span class="dv">3</span>]<span class="kw">,</span>[<span class="dv">1</span>,<span class="dv">4</span>,<span class="dv">2</span>,<span class="dv">3</span>])<span class="kw">.</span>
<span class="kw">false.</span>

<span class="fu">?-</span> remove_duplicates([<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">2</span>,<span class="dv">3</span>]<span class="kw">,</span> <span class="dt">X</span>)<span class="kw">.</span>
<span class="dt">X</span> <span class="kw">=</span> [<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>]</code></pre></div>
<h3 id="d-10-points">(d) 10 points</h3>
<p>Write a Prolog predicate <code>union(L1,L2,L3)</code> that is true if <code>L3</code> is equal to the list containing the <em>union</em> of the elements in <code>L1</code> and <code>L2</code> without any duplicates. In other words, the elements of <code>L3</code> are those that occur in either <code>L1</code> or in <code>L2</code>. When you are done, you should get the following behavior:</p>
<div class="sourceCode"><pre class="sourceCode prolog"><code class="sourceCode prolog"><span class="fu">?-</span> union([<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>]<span class="kw">,</span>[<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">6</span>]<span class="kw">,</span>[<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>])<span class="kw">.</span>
<span class="kw">true.</span>

<span class="fu">?-</span> union([<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>]<span class="kw">,</span>[<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">6</span>]<span class="kw">,</span><span class="dt">X</span>)<span class="kw">.</span>
<span class="dt">X</span> <span class="kw">=</span> [<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>]<span class="kw">.</span>

<span class="fu">?-</span> union([<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>]<span class="kw">,</span>[<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">6</span>]<span class="kw">,</span><span class="dt">X</span>)<span class="kw">.</span>
<span class="dt">X</span> <span class="kw">=</span> [<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>]<span class="kw">.</span>

<span class="fu">?-</span> union([<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>]<span class="kw">,</span>[<span class="dv">4</span>,<span class="dv">3</span>]<span class="kw">,</span>[<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>])<span class="kw">.</span>
<span class="kw">false.</span></code></pre></div>
<p>As shown in in the third example above, your predicate may be true only for one particular order of the elements of <code>L3</code> (i.e. it need not cycle through all permutations of the elements.)</p>
<h3 id="e-20-points">(e) (20 Points)</h3>
<p>Write a Prolog predicate <code>intersection(L1,L2,L3)</code> that is true if <code>L3</code> is equal to the list containing intersection of the elements in <code>L1</code> and <code>L2</code> without any duplicates. In other words, <code>L3</code> should contain the elements that both in <code>L1</code> and in <code>L2</code>. As for <code>union</code> the predicate must be true for <em>some</em><br />
order of elements of the intersection (but not necessarily all). When you are done, you should get the following behavior:</p>
<div class="sourceCode"><pre class="sourceCode prolog"><code class="sourceCode prolog"><span class="fu">?-</span> intersection([<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>]<span class="kw">,</span>[<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">6</span>]<span class="kw">,</span>[<span class="dv">1</span>,<span class="dv">3</span>])<span class="kw">.</span>
<span class="kw">true.</span>

<span class="fu">?-</span> intersection([<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>]<span class="kw">,</span>[<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">6</span>]<span class="kw">,</span><span class="dt">X</span>)<span class="kw">.</span>
<span class="dt">X</span> <span class="kw">=</span> [<span class="dv">1</span>,<span class="dv">3</span>]<span class="kw">.</span>

<span class="fu">?-</span> intersection([<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>]<span class="kw">,</span>[<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">6</span>]<span class="kw">,</span> <span class="dt">X</span>)<span class="kw">.</span>
<span class="dt">X</span> <span class="kw">=</span> [<span class="dv">1</span>,<span class="dv">3</span>] <span class="kw">;</span>
<span class="kw">false.</span>
<span class="fu">?-</span> intersection([<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>]<span class="kw">,</span>[<span class="dv">4</span>,<span class="dv">3</span>]<span class="kw">,</span>[<span class="dv">1</span>])<span class="kw">.</span>
<span class="kw">false.</span></code></pre></div>
<p>As shown in in the third example above, your predicate may be true only for one particular order of the elements of <code>L3</code>.</p>
<h2 id="problem-2-taqueria-database">Problem 2: Taqueria Database</h2>
<p>Prolog can be used as a sophisticated database system in which data is stored in the form of structured predicates. In this problem we consider a database of taquerias that sell various items, for a variety of budgets and palates. First, we have a set of facts that encode the price of different ingredients. For example, the first fact stipulates that a serving of carne asada costs 6 dollars (this is high-quality, organic, grass-fed beef).</p>
<div class="sourceCode"><pre class="sourceCode prolog"><code class="sourceCode prolog">cost(carne_asada<span class="kw">,</span><span class="dv">6</span>)<span class="kw">.</span>
cost(lengua<span class="kw">,</span><span class="dv">2</span>)<span class="kw">.</span>
cost(birria<span class="kw">,</span><span class="dv">2</span>)<span class="kw">.</span>
cost(carnitas<span class="kw">,</span><span class="dv">2</span>)<span class="kw">.</span>
cost(adobado<span class="kw">,</span><span class="dv">2</span>)<span class="kw">.</span>
cost(al_pastor<span class="kw">,</span><span class="dv">2</span>)<span class="kw">.</span>
cost(guacamole<span class="kw">,</span><span class="dv">1</span>)<span class="kw">.</span>
cost(rice<span class="kw">,</span><span class="dv">1</span>)<span class="kw">.</span>
cost(beans<span class="kw">,</span><span class="dv">1</span>)<span class="kw">.</span>
cost(salsa<span class="kw">,</span><span class="dv">1</span>)<span class="kw">.</span>
cost(cheese<span class="kw">,</span><span class="dv">1</span>)<span class="kw">.</span>
cost(sour_cream<span class="kw">,</span><span class="dv">1</span>)<span class="kw">.</span>
cost(taco<span class="kw">,</span><span class="dv">1</span>)<span class="kw">.</span>
cost(tortilla<span class="kw">,</span><span class="dv">1</span>)<span class="kw">.</span></code></pre></div>
<p>Next, we have a list of menu items, and for each item, we have a fact that tells us which ingredients go into the item. For example, the carnitas taco, is a tasty snack comprising carnitas, salsa and guacamole, generously stuffed into a fresh taco.</p>
<div class="sourceCode"><pre class="sourceCode prolog"><code class="sourceCode prolog">ingredients(carnitas_taco<span class="kw">,</span>
            [taco,carnitas, salsa, guacamole])<span class="kw">.</span>
ingredients(birria_taco<span class="kw">,</span>
            [taco,birria, salsa, guacamole])<span class="kw">.</span>
ingredients(al_pastor_taco<span class="kw">,</span>
            [taco,al_pastor, salsa, guacamole, cheese])<span class="kw">.</span>
ingredients(guacamole_taco<span class="kw">,</span>
            [taco,guacamole, salsa,sour_cream])<span class="kw">.</span>
ingredients(al_pastor_burrito<span class="kw">,</span>
            [tortilla,al_pastor, salsa])<span class="kw">.</span>
ingredients(carne_asada_burrito<span class="kw">,</span>
            [tortilla,carne_asada, guacamole, rice, beans])<span class="kw">.</span>
ingredients(adobado_burrito<span class="kw">,</span>
            [tortilla,adobado, guacamole, rice, beans])<span class="kw">.</span>
ingredients(carnitas_sopa<span class="kw">,</span>
            [sopa,carnitas, guacamole, salsa,sour_cream])<span class="kw">.</span>
ingredients(lengua_sopa<span class="kw">,</span>
            [sopa,lengua, salsa, beans,sour_cream])<span class="kw">.</span>
ingredients(combo_plate<span class="kw">,</span>
            [al_pastor, carne_asada,rice, tortilla, beans, salsa, guacamole, cheese])<span class="kw">.</span>
ingredients(adobado_plate<span class="kw">,</span>
            [adobado, guacamole, rice, tortilla, beans, cheese])<span class="kw">.</span></code></pre></div>
<p>Finally, we the database has a set of facts specifying the different taqueries, and for each taqueria, the list of employees, and the list of delectable comestibles available for purchase at the taqueria.</p>
<div class="sourceCode"><pre class="sourceCode prolog"><code class="sourceCode prolog">taqueria(el_cuervo<span class="kw">,</span> [ana,juan,maria]<span class="kw">,</span>
        [carnitas_taco, combo_plate, al_pastor_taco, carne_asada_burrito])<span class="kw">.</span>

taqueria(la_posta<span class="kw">,</span>
        [victor,maria,carla]<span class="kw">,</span> [birria_taco, adobado_burrito, carnitas_sopa, combo_plate, adobado_plate])<span class="kw">.</span>

taqueria(robertos<span class="kw">,</span> [hector,carlos,miguel]<span class="kw">,</span>
        [adobado_plate, guacamole_taco, al_pastor_burrito, carnitas_taco, carne_asada_burrito])<span class="kw">.</span>

taqueria(la_milpas_quatros<span class="kw">,</span> [jiminez, martin, antonio, miguel]<span class="kw">,</span>  
        [lengua_sopa, adobado_plate, combo_plate])<span class="kw">.</span></code></pre></div>
<p>The first store has three employees and sells four different items, the second store has three employees and sells five different items, and so on. You can assume that there are no duplicates (eg <code>carnitas</code> is not listed twice in any ingredient list, <code>maria</code> is not listed twice in any employee list, the same menu item is is not listed twice in any store menu, etc.). Given a database of facts, the questions below have you write predicates that implement queries to the database.</p>
<h3 id="a-5-points-1">(a) (5 Points)</h3>
<p>Write a Prolog predicate <code>available_at(X,Y)</code> that is true if the item <code>X</code> is available at the taqueria <code>Y</code>. When you are done, you should get the following behavior:</p>
<div class="sourceCode"><pre class="sourceCode prolog"><code class="sourceCode prolog"><span class="fu">?-</span> available_at(lengua_sopa<span class="kw">,</span>el_cuervo)<span class="kw">.</span>
<span class="kw">false.</span>

<span class="fu">?-</span> available_at(<span class="dt">X</span><span class="kw">,</span><span class="dt">Y</span>)<span class="kw">.</span>
<span class="dt">X</span> <span class="kw">=</span> carnitas_taco
<span class="dt">Y</span> <span class="kw">=</span> el_cuervo<span class="kw">;</span>  

<span class="dt">X</span> <span class="kw">=</span> combo_plate
<span class="dt">Y</span> <span class="kw">=</span> el_cuervo <span class="kw">;</span>

<span class="dt">X</span> <span class="kw">=</span> al_pastor_taco
<span class="dt">Y</span> <span class="kw">=</span> el_cuervo <span class="kw">;</span>

<span class="dt">X</span> <span class="kw">=</span> carne_asada_burrito
<span class="dt">Y</span> <span class="kw">=</span> el_cuervo <span class="kw">;</span>

<span class="dt">X</span> <span class="kw">=</span> birria_taco
<span class="dt">Y</span> <span class="kw">=</span> la_posta <span class="kw">;</span>

<span class="dt">X</span> <span class="kw">=</span> adobado_burrito
<span class="dt">Y</span> <span class="kw">=</span> la_posta<span class="kw">.</span></code></pre></div>
<p>Similarly, if one has a hankering for a carnitas taco, one can query the database thus:</p>
<div class="sourceCode"><pre class="sourceCode prolog"><code class="sourceCode prolog"><span class="fu">?-</span> available_at(carnitas_taco<span class="kw">,</span><span class="dt">Y</span>)<span class="kw">.</span>
<span class="dt">Y</span> <span class="kw">=</span> el_cuervo <span class="kw">;</span>
<span class="dt">Y</span> <span class="kw">=</span> robertos<span class="kw">.</span></code></pre></div>
<h3 id="b-7-points">(b) 7 Points</h3>
<p>Write a Prolog predicate <code>multi_available(X)</code> that is true if the item <code>X</code> is available at more than one place. For example:</p>
<div class="sourceCode"><pre class="sourceCode prolog"><code class="sourceCode prolog"><span class="fu">?-</span> multi_available(carnitas_taco)<span class="kw">.</span>
<span class="kw">true.</span>

<span class="fu">?-</span> multi_available(lengua_sopa)<span class="kw">.</span>
<span class="kw">false.</span>

<span class="fu">?-</span> multi_available(<span class="dt">X</span>)<span class="kw">.</span>
<span class="dt">X</span> <span class="kw">=</span> carnitas_taco <span class="kw">;</span>
<span class="dt">X</span> <span class="kw">=</span> carne_asada_burrito <span class="kw">;</span>
<span class="dt">X</span> <span class="kw">=</span> adobado_plate <span class="kw">;</span>
<span class="dt">X</span> <span class="kw">=</span> combo_plate <span class="kw">.</span></code></pre></div>
<h3 id="c-8-points">(c) 8 Points</h3>
<p>Write a Prolog predicate <code>overworked(X)</code> that is true the person <code>X</code> works at more than one taqueria. For instance:</p>
<div class="sourceCode"><pre class="sourceCode prolog"><code class="sourceCode prolog"><span class="fu">?-</span> overworked(maria)<span class="kw">.</span>
<span class="kw">true.</span>

<span class="fu">?-</span> overworked(carlos)<span class="kw">.</span>
<span class="kw">false.</span>

<span class="fu">?-</span> overworked(<span class="dt">X</span>)<span class="kw">.</span>
<span class="dt">X</span> <span class="kw">=</span> maria <span class="kw">;</span>
<span class="dt">X</span> <span class="kw">=</span> miguel <span class="kw">.</span></code></pre></div>
<h3 id="d-15-points">(d) 15 Points</h3>
<p>Write a Prolog predicate <code>total_cost(X,K)</code> that is true if the sum of the costs of the ingredients of item <code>X</code> is equal to <code>K</code>. When you are done, you should get the following:</p>
<div class="sourceCode"><pre class="sourceCode prolog"><code class="sourceCode prolog"><span class="fu">?-</span> total_cost(carnitas_taco<span class="kw">,</span><span class="dv">3</span>)<span class="kw">.</span>
<span class="kw">false.</span>

<span class="fu">?-</span> total_cost(carnitas_taco<span class="kw">,</span><span class="dt">X</span>)<span class="kw">.</span>
<span class="dt">X</span> <span class="kw">=</span> <span class="dv">5</span><span class="kw">.</span>

<span class="fu">?-</span> total_cost(<span class="dt">X</span><span class="kw">,</span><span class="dv">5</span>)<span class="kw">.</span>
<span class="dt">X</span> <span class="kw">=</span> carnitas_taco <span class="kw">;</span>
<span class="dt">X</span> <span class="kw">=</span> birria_taco<span class="kw">.</span></code></pre></div>
<h3 id="e-15-points">(e) 15 Points</h3>
<p>Write a Prolog predicate <code>has_ingredients(X,L)</code> that is true if the item <code>X</code> has all the ingredients listed in <code>L</code>. When you are done, you should get the following:</p>
<div class="sourceCode"><pre class="sourceCode prolog"><code class="sourceCode prolog"><span class="fu">?-</span> has_ingredients(lengua_sopa<span class="kw">,</span>[cheese,lengua])<span class="kw">.</span>
<span class="kw">false.</span>

<span class="fu">?-</span> has_ingredients(<span class="dt">X</span><span class="kw">,</span>[salsa,guacamole,cheese]).&lt;/font&gt;&lt;br<span class="dt">&gt;</span>
<span class="dt">X</span> <span class="kw">=</span> al_pastor_taco <span class="kw">;</span>
<span class="dt">X</span> <span class="kw">=</span> combo_plate<span class="kw">.</span></code></pre></div>
<h3 id="f-15-points">(f) 15 Points</h3>
<p>Write a Prolog predicate <code>avoids_ingredients(X,L)</code> that is true if the item <code>X</code> does not have <em>any of</em> the ingredients listed in <code>L</code>. When you are done, you should get the following:</p>
<div class="sourceCode"><pre class="sourceCode prolog"><code class="sourceCode prolog"><span class="fu">?-</span>avoids_ingredients(lengua_sopa<span class="kw">,</span>[cheese,lengua])<span class="kw">.</span>
<span class="kw">false.</span>

<span class="fu">?-</span> avoids_ingredients(lengua_sopa<span class="kw">,</span>[cheese,tortilla])<span class="kw">.</span>
<span class="kw">true.</span>

<span class="fu">?-</span> avoids_ingredients(<span class="dt">X</span><span class="kw">,</span>[guacamole])<span class="kw">.</span>
<span class="dt">X</span> <span class="kw">=</span> al_pastor_burrito <span class="kw">;</span>
<span class="dt">X</span> <span class="kw">=</span> lengua_sopa<span class="kw">.</span>

<span class="fu">?-</span> avoids_ingredients(<span class="dt">X</span><span class="kw">,</span>[salsa,guacamole])<span class="kw">.</span>
<span class="dt">X</span> <span class="kw">=</span> lengua_sopa<span class="kw">.</span></code></pre></div>
<h3 id="g-10-10-points">(g) 10 + 10 Points</h3>
<p>In the given file, we have filled in an implementation for a predicate <code>find_items(L,X,Y)</code> that is true if <code>L</code> is the list of <em>all items</em> that contain all the ingredients in <code>X</code> and do not contain any of the ingredients in <code>Y</code>. This predicate is specified using two helper predicates <code>p1</code>, <code>p2</code> that <em>you</em> must implement, to obtain a complete specification for <code>find_items</code>. When you are done, you should obtain the following results:</p>
<div class="sourceCode"><pre class="sourceCode prolog"><code class="sourceCode prolog"><span class="fu">?-</span> find_items(<span class="dt">X</span><span class="kw">,</span>[taco,guacamole]<span class="kw">,</span>[cheese])<span class="kw">.</span>
<span class="dt">X</span> <span class="kw">=</span> [carnitas_taco, birria_taco, guacamole_taco]<span class="kw">.</span>

<span class="fu">?-</span> find_items(<span class="dt">X</span><span class="kw">,</span>[tortilla]<span class="kw">,</span>[rice])<span class="kw">.</span>
<span class="dt">X</span> <span class="kw">=</span> [al_pastor_burrito]<span class="kw">.</span>

<span class="fu">?-</span> find_items(<span class="dt">X</span><span class="kw">,</span>[]<span class="kw">,</span>[rice,guacamole])<span class="kw">.</span>
<span class="dt">X</span> <span class="kw">=</span> [al_pastor_burrito, lengua_sopa]<span class="kw">.</span>

<span class="fu">?-</span> find_items(<span class="dt">X</span><span class="kw">,</span>[rice,guacamole]<span class="kw">,</span>[salsa])<span class="kw">.</span>
<span class="dt">X</span> <span class="kw">=</span> [carne_asada_burrito, adobado_burrito, adobado_plate]<span class="kw">.</span>

<span class="fu">?-</span> find_items(<span class="dt">X</span><span class="kw">,</span>[guacamole,cheese,salsa]<span class="kw">,</span>[])<span class="kw">.</span>
<span class="dt">X</span> <span class="kw">=</span> [al_pastor_taco,combo_plate]<span class="kw">.</span></code></pre></div>
                <hr>
            </div>
        </div>
    </div>
</article>

        </div>
        <div id="footer">
        </div>
      <!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                    <li>
                        <a href="https://ucsd-cse130.github.io/web/feed.xml" data-datatype="json" data-type="GET" data-target="#frame" class="reload" id="clickme">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="https://twitter.com/ranjitjhala" data-datatype="json" data-type="GET" data-target="#frame" class="reload" id="clickme" target="_blank">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li>
                        <a href="https://plus.google.com/u/0/106612421534244742464" data-datatype="json" data-type="GET" data-target="#frame" class="reload" id="clickme" target="_blank">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-google-plus fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li>
                        <a href="https://github.com/ucsd-progsys/130-web" target="_blank">
                            <span class="fa-stack fa-lg">

                              <i class="fa fa-arrow-circle-o-down"></i>
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
		    
                </ul>
                <p class="copyright text-muted">
                
                  Generated by <a href="http://jaspervdj.be/hakyll">Hakyll</a>,
                  template by <a href="http://lucumr.pocoo.org">Armin Ronacher</a>,
                  suggest improvements <a href="https://github.com/ucsd-progsys/liquidhaskell-blog/">here</a>.
                </p>
            </div>
        </div>
    </div>
</footer>


<!-- jQuery -->
<script src="https://ucsd-cse130.github.io/web/static/js/jquery.min.js"></script>
<script src="https://ucsd-cse130.github.io/web/static/js/spaceg.stylesheets.min.js"></script>
<script src="https://ucsd-cse130.github.io/web/static/js/bootstrap.min.js"></script>
<script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>
<script src="https://ucsd-cse130.github.io/web/static/js/anim.js"></script>
<script src="https://ucsd-cse130.github.io/web/static/js/scripts.js"></script>

    </body>
</html>
